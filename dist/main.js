!function(t){var n={};function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(r,i,function(n){return t[n]}.bind(null,i));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=11)}([,,,,,,,function(t,n,e){var r=e(8);"string"==typeof r&&(r=[[t.i,r,""]]);var i={insert:"head",singleton:!1};e(10)(r,i);r.locals&&(t.exports=r.locals)},function(t,n,e){var r=e(9);(n=t.exports=r(!1)).push([t.i,"@import url(https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700|Kumar+One&display=swap);"]),n.push([t.i,'*, *:before, *:after {\n  box-sizing: border-box;\n}\n\nhtml, body {\n\twidth: 100%;\n\theight: 100%;\n\tmargin: 0px;\n\tpadding: 0px;\n\tbox-sizing: border-box;\n\tfont-family: \'Ubuntu Mono\', monospace;\n\tfont-size: 1rem;\n}\n\nbody * {\n\tbox-sizing: border-box;\n}\n\nh1, h1, h2, h3, h4, h5, h6 {\n\tfont-family: \'Kumar One\', cursive;\n\n}\n\n.wrapper {\n\tmax-width: 700px;\n\tmargin: 0 auto;\n}\n\n.header {\n\twidth: 100%;\n}\n\n.header h1 {\n\ttext-align: center;\n}\n\n.header p {\n\tmargin-bottom: 3em;\n}\n\n.controls {\n\tmax-width: 1000px;\n\tmargin: 0 auto;\n\theight: 25vh;\n\tmin-height: 175px;\n\tdisplay: grid;\n\tgrid-template-areas: \n\t\t"brand state"\n\t\t"general general";\n\tgrid-template-columns: 1fr 1fr;\n\tgrid-template-rows: 3fr 1fr;\n\tborder-width: 0.15em 0px;\n\tborder-color: black;\n\tborder-style: solid;\n}\n\n.controls > div:not(.general) {\n\tpadding: 0.25em 0.25em 0.25em 2em;\n}\n\n.controls > div h3 {\n\tmargin: 0em;\n\tmargin-top: 0.25em;\n}\n\n.controls form > div {\n\tdisplay: inline-block;\n\twidth: 15vw;\n\tmin-width: 140px;\n\tmargin-bottom: 0.2em;\n}\n\n.controls .general form > div {\n\tmin-width: initial;\n}\n\n.general-inner {\n\tmargin: 0em 2em;\n\tmargin-top: 0.35em;\n}\n\n.controls .general form > div,  .controls .general h3:not(:first-of-type){\n\twidth: auto;\n\tmargin-left: 1.3em;\n}\n\n.controls .general .averageForm > div {\n\tmargin-left: 5px;\n}\n\n.controls .general form {\n\tdisplay: inline-block;\n\tvertical-align: middle;\n}\n\n.controls .general h3 {\n\tdisplay: inline-block;\n}\n\n.brand {\n\tgrid-area: brand;\n\tborder-right: 0.15em solid black;\n}\n\n.state {\n\tgrid-area: state;\n}\n\n.inactive {\n\tbackground-color: #efefef;\n\tcolor: #aaa;\n\tcursor: pointer;\n}\n\n.general {\n\tgrid-area: general;\n\tborder-top: 0.15em solid black;\n}\n\n.chart {\n\twidth: 100%;\n\theight: 75vh;\n\tmin-height: 400px;\n\tmax-width: 1800px;\n}\n\n\n/* HTML5 Boilerplate accessible hidden styles */\n.promoted-input-checkbox {\n  border: 0;\n  clip: rect(0 0 0 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.promoted-checkbox label:active::after {\n  background-color: #e6e6e6;\n}\n.promoted-checkbox label {\n  line-height: 1.3em;\n  cursor: pointer;\n  position: relative;\n}\n.promoted-checkbox label:after {\n  content: "";\n  height: 1.3em;\n  width: 1.3em;\n  margin-right: 0.5em;\n  float: left;\n  /*border: 0.15em solid;*/\n}\n\n.promoted-checkbox.radio label:after {\n\tborder-radius: 1.3em;\n}\n\n.promoted-checkbox svg {\n  height: 0;\n  width: calc(1.3em - 0.15em);\n  height: calc(1.3em - 0.15em);\n  position: absolute;\n  fill-opacity: 0;\n  left: calc(-1.8em + 0.15em);\n  border: 2px solid;\n}\n\n.general .promoted-checkbox.radio svg {\n\tborder-radius: 10px;\n}\n\n.promoted-checkbox input:checked + label > svg {\n  fill-opacity: 1;\n}\n\n.inactive .promoted-checkbox input:checked + label > svg {\n  fill-opacity: 0.2;\n}\n\n\n.yAxis {\n\ttext-anchor: end;\n}\n\n.yAxis .tick:not(:first-of-type) line{\n\tstroke-opacity: 0.5;\n\tstroke-dasharray: 2,2;\n}\n\n.domain {\n\tdisplay: none;\n}\n\n@media screen and (max-width: 640px) {\n\thtml, body {\n\t\tfont-size: 0.9rem;\n\t}\n\n\t.controls form > div {\n\t\tmin-width: 108px;\n\t}\n}',""])},function(t,n,e){"use strict";t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var e=function(t,n){var e=t[1]||"",r=t[3];if(!r)return e;if(n&&"function"==typeof btoa){var i=(o=r,u=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(u),"/*# ".concat(s," */")),a=r.sources.map((function(t){return"/*# sourceURL=".concat(r.sourceRoot).concat(t," */")}));return[e].concat(a).concat([i]).join("\n")}var o,u,s;return[e].join("\n")}(n,t);return n[2]?"@media ".concat(n[2]," {").concat(e,"}"):e})).join("")},n.i=function(t,e){"string"==typeof t&&(t=[[null,t,""]]);for(var r=0;r<t.length;r++){var i=[].concat(t[r]);e&&(i[2]?i[2]="".concat(e," and ").concat(i[2]):i[2]=e),n.push(i)}},n}},function(t,n,e){"use strict";var r,i={},a=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},o=function(){var t={};return function(n){if(void 0===t[n]){var e=document.querySelector(n);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}t[n]=e}return t[n]}}();function u(t,n){for(var e=[],r={},i=0;i<t.length;i++){var a=t[i],o=n.base?a[0]+n.base:a[0],u={css:a[1],media:a[2],sourceMap:a[3]};r[o]?r[o].parts.push(u):e.push(r[o]={id:o,parts:[u]})}return e}function s(t,n){for(var e=0;e<t.length;e++){var r=t[e],a=i[r.id],o=0;if(a){for(a.refs++;o<a.parts.length;o++)a.parts[o](r.parts[o]);for(;o<r.parts.length;o++)a.parts.push(m(r.parts[o],n))}else{for(var u=[];o<r.parts.length;o++)u.push(m(r.parts[o],n));i[r.id]={id:r.id,refs:1,parts:u}}}}function l(t){var n=document.createElement("style");if(void 0===t.attributes.nonce){var r=e.nc;r&&(t.attributes.nonce=r)}if(Object.keys(t.attributes).forEach((function(e){n.setAttribute(e,t.attributes[e])})),"function"==typeof t.insert)t.insert(n);else{var i=o(t.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}return n}var c,h=(c=[],function(t,n){return c[t]=n,c.filter(Boolean).join("\n")});function f(t,n,e,r){var i=e?"":r.css;if(t.styleSheet)t.styleSheet.cssText=h(n,i);else{var a=document.createTextNode(i),o=t.childNodes;o[n]&&t.removeChild(o[n]),o.length?t.insertBefore(a,o[n]):t.appendChild(a)}}function p(t,n,e){var r=e.css,i=e.media,a=e.sourceMap;if(i&&t.setAttribute("media",i),a&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var d=null,g=0;function m(t,n){var e,r,i;if(n.singleton){var a=g++;e=d||(d=l(n)),r=f.bind(null,e,a,!1),i=f.bind(null,e,a,!0)}else e=l(n),r=p.bind(null,e,n),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)};return r(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;r(t=n)}else i()}}t.exports=function(t,n){(n=n||{}).attributes="object"==typeof n.attributes?n.attributes:{},n.singleton||"boolean"==typeof n.singleton||(n.singleton=a());var e=u(t,n);return s(e,n),function(t){for(var r=[],a=0;a<e.length;a++){var o=e[a],l=i[o.id];l&&(l.refs--,r.push(l))}t&&s(u(t,n),n);for(var c=0;c<r.length;c++){var h=r[c];if(0===h.refs){for(var f=0;f<h.parts.length;f++)h.parts[f]();delete i[h.id]}}}}},function(t,n,e){"use strict";e.r(n);e(7);function r(){}var i=function(t){return null==t?r:function(){return this.querySelector(t)}};function a(){return[]}var o=function(t){return null==t?a:function(){return this.querySelectorAll(t)}},u=function(t){return function(){return this.matches(t)}},s=function(t){return new Array(t.length)};function l(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}l.prototype={constructor:l,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var c="$";function h(t,n,e,r,i,a){for(var o,u=0,s=n.length,c=a.length;u<c;++u)(o=n[u])?(o.__data__=a[u],r[u]=o):e[u]=new l(t,a[u]);for(;u<s;++u)(o=n[u])&&(i[u]=o)}function f(t,n,e,r,i,a,o){var u,s,h,f={},p=n.length,d=a.length,g=new Array(p);for(u=0;u<p;++u)(s=n[u])&&(g[u]=h=c+o.call(s,s.__data__,u,n),h in f?i[u]=s:f[h]=s);for(u=0;u<d;++u)(s=f[h=c+o.call(t,a[u],u,a)])?(r[u]=s,s.__data__=a[u],f[h]=null):e[u]=new l(t,a[u]);for(u=0;u<p;++u)(s=n[u])&&f[g[u]]===s&&(i[u]=s)}function p(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}var d="http://www.w3.org/1999/xhtml",g={svg:"http://www.w3.org/2000/svg",xhtml:d,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},m=function(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),g.hasOwnProperty(n)?{space:g[n],local:t}:t};function v(t){return function(){this.removeAttribute(t)}}function y(t){return function(){this.removeAttributeNS(t.space,t.local)}}function w(t,n){return function(){this.setAttribute(t,n)}}function b(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function _(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function x(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}var M=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function k(t){return function(){this.style.removeProperty(t)}}function A(t,n,e){return function(){this.style.setProperty(t,n,e)}}function T(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function C(t,n){return t.style.getPropertyValue(n)||M(t).getComputedStyle(t,null).getPropertyValue(n)}function S(t){return function(){delete this[t]}}function N(t,n){return function(){this[t]=n}}function D(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function U(t){return t.trim().split(/^|\s+/)}function F(t){return t.classList||new L(t)}function L(t){this._node=t,this._names=U(t.getAttribute("class")||"")}function E(t,n){for(var e=F(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function j(t,n){for(var e=F(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function P(t){return function(){E(this,t)}}function O(t){return function(){j(this,t)}}function H(t,n){return function(){(n.apply(this,arguments)?E:j)(this,t)}}L.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Y(){this.textContent=""}function z(t){return function(){this.textContent=t}}function q(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function R(){this.innerHTML=""}function V(t){return function(){this.innerHTML=t}}function $(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function B(){this.nextSibling&&this.parentNode.appendChild(this)}function W(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function X(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===d&&n.documentElement.namespaceURI===d?n.createElement(t):n.createElementNS(e,t)}}function I(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var Z=function(t){var n=m(t);return(n.local?I:X)(n)};function J(){return null}function Q(){var t=this.parentNode;t&&t.removeChild(this)}function G(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function K(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}var tt={},nt=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(tt={mouseenter:"mouseover",mouseleave:"mouseout"}));function et(t,n,e){return t=rt(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function rt(t,n,e){return function(r){var i=nt;nt=r;try{t.call(this,this.__data__,n,e)}finally{nt=i}}}function it(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function at(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,a=n.length;r<a;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function ot(t,n,e){var r=tt.hasOwnProperty(t.type)?et:rt;return function(i,a,o){var u,s=this.__on,l=r(n,a,o);if(s)for(var c=0,h=s.length;c<h;++c)if((u=s[c]).type===t.type&&u.name===t.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=l,u.capture=e),void(u.value=n);this.addEventListener(t.type,l,e),u={type:t.type,name:t.name,value:n,listener:l,capture:e},s?s.push(u):this.__on=[u]}}function ut(t,n,e){var r=M(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function st(t,n){return function(){return ut(this,t,n)}}function lt(t,n){return function(){return ut(this,t,n.apply(this,arguments))}}var ct=[null];function ht(t,n){this._groups=t,this._parents=n}function ft(){return new ht([[document.documentElement]],ct)}ht.prototype=ft.prototype={constructor:ht,select:function(t){"function"!=typeof t&&(t=i(t));for(var n=this._groups,e=n.length,r=new Array(e),a=0;a<e;++a)for(var o,u,s=n[a],l=s.length,c=r[a]=new Array(l),h=0;h<l;++h)(o=s[h])&&(u=t.call(o,o.__data__,h,s))&&("__data__"in o&&(u.__data__=o.__data__),c[h]=u);return new ht(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=o(t));for(var n=this._groups,e=n.length,r=[],i=[],a=0;a<e;++a)for(var u,s=n[a],l=s.length,c=0;c<l;++c)(u=s[c])&&(r.push(t.call(u,u.__data__,c,s)),i.push(u));return new ht(r,i)},filter:function(t){"function"!=typeof t&&(t=u(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a,o=n[i],s=o.length,l=r[i]=[],c=0;c<s;++c)(a=o[c])&&t.call(a,a.__data__,c,o)&&l.push(a);return new ht(r,this._parents)},data:function(t,n){if(!t)return m=new Array(this.size()),c=-1,this.each((function(t){m[++c]=t})),m;var e,r=n?f:h,i=this._parents,a=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var o=a.length,u=new Array(o),s=new Array(o),l=new Array(o),c=0;c<o;++c){var p=i[c],d=a[c],g=d.length,m=t.call(p,p&&p.__data__,c,i),v=m.length,y=s[c]=new Array(v),w=u[c]=new Array(v);r(p,d,y,w,l[c]=new Array(g),m,n);for(var b,_,x=0,M=0;x<v;++x)if(b=y[x]){for(x>=M&&(M=x+1);!(_=w[M])&&++M<v;);b._next=_||null}}return(u=new ht(u,i))._enter=s,u._exit=l,u},enter:function(){return new ht(this._enter||this._groups.map(s),this._parents)},exit:function(){return new ht(this._exit||this._groups.map(s),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,a=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=n&&(i=n(i)),null==e?a.remove():e(a),r&&i?r.merge(i).order():i},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,a=Math.min(r,i),o=new Array(r),u=0;u<a;++u)for(var s,l=n[u],c=e[u],h=l.length,f=o[u]=new Array(h),p=0;p<h;++p)(s=l[p]||c[p])&&(f[p]=s);for(;u<r;++u)o[u]=n[u];return new ht(o,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=p);for(var e=this._groups,r=e.length,i=new Array(r),a=0;a<r;++a){for(var o,u=e[a],s=u.length,l=i[a]=new Array(s),c=0;c<s;++c)(o=u[c])&&(l[c]=o);l.sort(n)}return new ht(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each((function(){t[++n]=this})),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,a=n[e],o=0,u=a.length;o<u;++o)(i=a[o])&&t.call(i,i.__data__,o,a);return this},attr:function(t,n){var e=m(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?y:v:"function"==typeof n?e.local?x:_:e.local?b:w)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?k:"function"==typeof n?T:A)(t,n,null==e?"":e)):C(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?S:"function"==typeof n?D:N)(t,n)):this.node()[t]},classed:function(t,n){var e=U(t+"");if(arguments.length<2){for(var r=F(this.node()),i=-1,a=e.length;++i<a;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?H:n?P:O)(e,n))},text:function(t){return arguments.length?this.each(null==t?Y:("function"==typeof t?q:z)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?R:("function"==typeof t?$:V)(t)):this.node().innerHTML},raise:function(){return this.each(B)},lower:function(){return this.each(W)},append:function(t){var n="function"==typeof t?t:Z(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:Z(t),r=null==n?J:"function"==typeof n?n:i(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Q)},clone:function(t){return this.select(t?K:G)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,a=it(t+""),o=a.length;if(!(arguments.length<2)){for(u=n?ot:at,null==e&&(e=!1),r=0;r<o;++r)this.each(u(a[r],n,e));return this}var u=this.node().__on;if(u)for(var s,l=0,c=u.length;l<c;++l)for(r=0,s=u[l];r<o;++r)if((i=a[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"==typeof n?lt:st)(t,n))}};var pt=ft,dt=function(t){return"string"==typeof t?new ht([[document.querySelector(t)]],[document.documentElement]):new ht([[t]],ct)};var gt={},mt={},vt=34,yt=10,wt=13;function bt(t){return new Function("d","return {"+t.map((function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'})).join(",")+"}")}function _t(t){var n=Object.create(null),e=[];return t.forEach((function(t){for(var r in t)r in n||e.push(n[r]=r)})),e}function xt(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function Mt(t){var n,e=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),a=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((n=t.getUTCFullYear())<0?"-"+xt(-n,6):n>9999?"+"+xt(n,6):xt(n,4))+"-"+xt(t.getUTCMonth()+1,2)+"-"+xt(t.getUTCDate(),2)+(a?"T"+xt(e,2)+":"+xt(r,2)+":"+xt(i,2)+"."+xt(a,3)+"Z":i?"T"+xt(e,2)+":"+xt(r,2)+":"+xt(i,2)+"Z":r||e?"T"+xt(e,2)+":"+xt(r,2)+"Z":"")}var kt=function(t){var n=new RegExp('["'+t+"\n\r]"),e=t.charCodeAt(0);function r(t,n){var r,i=[],a=t.length,o=0,u=0,s=a<=0,l=!1;function c(){if(s)return mt;if(l)return l=!1,gt;var n,r,i=o;if(t.charCodeAt(i)===vt){for(;o++<a&&t.charCodeAt(o)!==vt||t.charCodeAt(++o)===vt;);return(n=o)>=a?s=!0:(r=t.charCodeAt(o++))===yt?l=!0:r===wt&&(l=!0,t.charCodeAt(o)===yt&&++o),t.slice(i+1,n-1).replace(/""/g,'"')}for(;o<a;){if((r=t.charCodeAt(n=o++))===yt)l=!0;else if(r===wt)l=!0,t.charCodeAt(o)===yt&&++o;else if(r!==e)continue;return t.slice(i,n)}return s=!0,t.slice(i,a)}for(t.charCodeAt(a-1)===yt&&--a,t.charCodeAt(a-1)===wt&&--a;(r=c())!==mt;){for(var h=[];r!==gt&&r!==mt;)h.push(r),r=c();n&&null==(h=n(h,u++))||i.push(h)}return i}function i(n,e){return n.map((function(n){return e.map((function(t){return o(n[t])})).join(t)}))}function a(n){return n.map(o).join(t)}function o(t){return null==t?"":t instanceof Date?Mt(t):n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var e,i,a=r(t,(function(t,r){if(e)return e(t,r-1);i=t,e=n?function(t,n){var e=bt(t);return function(r,i){return n(e(r),i,t)}}(t,n):bt(t)}));return a.columns=i||[],a},parseRows:r,format:function(n,e){return null==e&&(e=_t(n)),[e.map(o).join(t)].concat(i(n,e)).join("\n")},formatBody:function(t,n){return null==n&&(n=_t(t)),i(t,n).join("\n")},formatRows:function(t){return t.map(a).join("\n")},formatRow:a,formatValue:o}},At=kt(","),Tt=At.parse,Ct=(At.parseRows,At.format,At.formatBody,At.formatRows,At.formatRow,At.formatValue,kt("\t")),St=Ct.parse;Ct.parseRows,Ct.format,Ct.formatBody,Ct.formatRows,Ct.formatRow,Ct.formatValue;function Nt(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var Dt=function(t,n){return fetch(t,n).then(Nt)};function Ut(t){return function(n,e,r){return 2===arguments.length&&"function"==typeof e&&(r=e,e=void 0),Dt(n,e).then((function(n){return t(n,r)}))}}Ut(Tt),Ut(St);function Ft(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.json()}var Lt=function(t,n){return fetch(t,n).then(Ft)};function Et(t){return function(n,e){return Dt(n,e).then((function(n){return(new DOMParser).parseFromString(n,t)}))}}Et("application/xml"),Et("text/html"),Et("image/svg+xml");var jt=function(t){var n=function(){for(var t,n=nt;t=n.sourceEvent;)n=t;return n}();return n.changedTouches&&(n=n.changedTouches[0]),function(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]}(t,n)},Pt=Math.PI,Ot=2*Pt,Ht=Ot-1e-6;function Yt(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function zt(){return new Yt}Yt.prototype=zt.prototype={constructor:Yt,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,a){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var a=this._x1,o=this._y1,u=e-t,s=r-n,l=a-t,c=o-n,h=l*l+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(h>1e-6)if(Math.abs(c*u-s*l)>1e-6&&i){var f=e-a,p=r-o,d=u*u+s*s,g=f*f+p*p,m=Math.sqrt(d),v=Math.sqrt(h),y=i*Math.tan((Pt-Math.acos((d+h-g)/(2*m*v)))/2),w=y/v,b=y/m;Math.abs(w-1)>1e-6&&(this._+="L"+(t+w*l)+","+(n+w*c)),this._+="A"+i+","+i+",0,0,"+ +(c*f>l*p)+","+(this._x1=t+b*u)+","+(this._y1=n+b*s)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,r,i,a){t=+t,n=+n,a=!!a;var o=(e=+e)*Math.cos(r),u=e*Math.sin(r),s=t+o,l=n+u,c=1^a,h=a?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+s+","+l:(Math.abs(this._x1-s)>1e-6||Math.abs(this._y1-l)>1e-6)&&(this._+="L"+s+","+l),e&&(h<0&&(h=h%Ot+Ot),h>Ht?this._+="A"+e+","+e+",0,1,"+c+","+(t-o)+","+(n-u)+"A"+e+","+e+",0,1,"+c+","+(this._x1=s)+","+(this._y1=l):h>1e-6&&(this._+="A"+e+","+e+",0,"+ +(h>=Pt)+","+c+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};var qt=zt,Rt=function(t){return function(){return t}};function Vt(t){this._context=t}Vt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};var $t=function(t){return new Vt(t)};function Bt(t){return t[0]}function Wt(t){return t[1]}var Xt=function(){var t=Bt,n=Wt,e=Rt(!0),r=null,i=$t,a=null;function o(o){var u,s,l,c=o.length,h=!1;for(null==r&&(a=i(l=qt())),u=0;u<=c;++u)!(u<c&&e(s=o[u],u,o))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(s,u,o),+n(s,u,o));if(l)return a=null,l+""||null}return o.x=function(n){return arguments.length?(t="function"==typeof n?n:Rt(+n),o):t},o.y=function(t){return arguments.length?(n="function"==typeof t?t:Rt(+t),o):n},o.defined=function(t){return arguments.length?(e="function"==typeof t?t:Rt(!!t),o):e},o.curve=function(t){return arguments.length?(i=t,null!=r&&(a=i(r)),o):i},o.context=function(t){return arguments.length?(null==t?r=a=null:a=i(r=t),o):r},o},It=function(t,n){return t<n?-1:t>n?1:t>=n?0:NaN},Zt=function(t){var n;return 1===t.length&&(n=t,t=function(t,e){return It(n(t),e)}),{left:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var a=r+i>>>1;t(n[a],e)<0?r=a+1:i=a}return r},right:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var a=r+i>>>1;t(n[a],e)>0?i=a:r=a+1}return r}}};var Jt=Zt(It),Qt=Jt.right,Gt=(Jt.left,Qt);var Kt=function(t,n){var e,r,i,a=t.length,o=-1;if(null==n){for(;++o<a;)if(null!=(e=t[o])&&e>=e)for(r=i=e;++o<a;)null!=(e=t[o])&&(r>e&&(r=e),i<e&&(i=e))}else for(;++o<a;)if(null!=(e=n(t[o],o,t))&&e>=e)for(r=i=e;++o<a;)null!=(e=n(t[o],o,t))&&(r>e&&(r=e),i<e&&(i=e));return[r,i]},tn=Array.prototype,nn=(tn.slice,tn.map,Math.sqrt(50)),en=Math.sqrt(10),rn=Math.sqrt(2),an=function(t,n,e){var r,i,a,o,u=-1;if(e=+e,(t=+t)===(n=+n)&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(o=on(t,n,e))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),n=Math.floor(n/o),a=new Array(i=Math.ceil(n-t+1));++u<i;)a[u]=(t+u)*o;else for(t=Math.floor(t*o),n=Math.ceil(n*o),a=new Array(i=Math.ceil(t-n+1));++u<i;)a[u]=(t-u)/o;return r&&a.reverse(),a};function on(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=nn?10:a>=en?5:a>=rn?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=nn?10:a>=en?5:a>=rn?2:1)}function un(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=nn?i*=10:a>=en?i*=5:a>=rn&&(i*=2),n<t?-i:i}var sn=function(t,n){var e,r,i=t.length,a=-1;if(null==n){for(;++a<i;)if(null!=(e=t[a])&&e>=e)for(r=e;++a<i;)null!=(e=t[a])&&e>r&&(r=e)}else for(;++a<i;)if(null!=(e=n(t[a],a,t))&&e>=e)for(r=e;++a<i;)null!=(e=n(t[a],a,t))&&e>r&&(r=e);return r},ln=function(t,n){var e,r,i=t.length,a=-1;if(null==n){for(;++a<i;)if(null!=(e=t[a])&&e>=e)for(r=e;++a<i;)null!=(e=t[a])&&r>e&&(r=e)}else for(;++a<i;)if(null!=(e=n(t[a],a,t))&&e>=e)for(r=e;++a<i;)null!=(e=n(t[a],a,t))&&r>e&&(r=e);return r};function cn(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}function hn(){}function fn(t,n){var e=new hn;if(t instanceof hn)t.each((function(t,n){e.set(n,t)}));else if(Array.isArray(t)){var r,i=-1,a=t.length;if(null==n)for(;++i<a;)e.set(i,t[i]);else for(;++i<a;)e.set(n(r=t[i],i,t),r)}else if(t)for(var o in t)e.set(o,t[o]);return e}hn.prototype=fn.prototype={constructor:hn,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,n){return this["$"+t]=n,this},remove:function(t){var n="$"+t;return n in this&&delete this[n]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)"$"===n[0]&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)"$"===n[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var n in this)"$"===n[0]&&t(this[n],n.slice(1),this)}};var pn=fn;function dn(){}var gn=pn.prototype;function mn(t,n){var e=new dn;if(t instanceof dn)t.each((function(t){e.add(t)}));else if(t){var r=-1,i=t.length;if(null==n)for(;++r<i;)e.add(t[r]);else for(;++r<i;)e.add(n(t[r],r,t))}return e}dn.prototype=mn.prototype={constructor:dn,has:gn.has,add:function(t){return this["$"+(t+="")]=t,this},remove:gn.remove,clear:gn.clear,values:gn.keys,size:gn.size,empty:gn.empty,each:gn.each};var vn=Array.prototype,yn=vn.map,wn=vn.slice;var bn=function(t,n,e){t.prototype=n.prototype=e,e.constructor=t};function _n(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function xn(){}var Mn="\\s*([+-]?\\d+)\\s*",kn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",An="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Tn=/^#([0-9a-f]{3,8})$/,Cn=new RegExp("^rgb\\("+[Mn,Mn,Mn]+"\\)$"),Sn=new RegExp("^rgb\\("+[An,An,An]+"\\)$"),Nn=new RegExp("^rgba\\("+[Mn,Mn,Mn,kn]+"\\)$"),Dn=new RegExp("^rgba\\("+[An,An,An,kn]+"\\)$"),Un=new RegExp("^hsl\\("+[kn,An,An]+"\\)$"),Fn=new RegExp("^hsla\\("+[kn,An,An,kn]+"\\)$"),Ln={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function En(){return this.rgb().formatHex()}function jn(){return this.rgb().formatRgb()}function Pn(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Tn.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?On(n):3===e?new zn(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?new zn(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?new zn(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=Cn.exec(t))?new zn(n[1],n[2],n[3],1):(n=Sn.exec(t))?new zn(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Nn.exec(t))?Hn(n[1],n[2],n[3],n[4]):(n=Dn.exec(t))?Hn(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Un.exec(t))?$n(n[1],n[2]/100,n[3]/100,1):(n=Fn.exec(t))?$n(n[1],n[2]/100,n[3]/100,n[4]):Ln.hasOwnProperty(t)?On(Ln[t]):"transparent"===t?new zn(NaN,NaN,NaN,0):null}function On(t){return new zn(t>>16&255,t>>8&255,255&t,1)}function Hn(t,n,e,r){return r<=0&&(t=n=e=NaN),new zn(t,n,e,r)}function Yn(t,n,e,r){return 1===arguments.length?((i=t)instanceof xn||(i=Pn(i)),i?new zn((i=i.rgb()).r,i.g,i.b,i.opacity):new zn):new zn(t,n,e,null==r?1:r);var i}function zn(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function qn(){return"#"+Vn(this.r)+Vn(this.g)+Vn(this.b)}function Rn(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Vn(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function $n(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Wn(t,n,e,r)}function Bn(t){if(t instanceof Wn)return new Wn(t.h,t.s,t.l,t.opacity);if(t instanceof xn||(t=Pn(t)),!t)return new Wn;if(t instanceof Wn)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),a=Math.max(n,e,r),o=NaN,u=a-i,s=(a+i)/2;return u?(o=n===a?(e-r)/u+6*(e<r):e===a?(r-n)/u+2:(n-e)/u+4,u/=s<.5?a+i:2-a-i,o*=60):u=s>0&&s<1?0:o,new Wn(o,u,s,t.opacity)}function Wn(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Xn(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function In(t,n,e,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*n+(4-6*a+3*o)*e+(1+3*t+3*a-3*o)*r+o*i)/6}bn(xn,Pn,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:En,formatHex:En,formatHsl:function(){return Bn(this).formatHsl()},formatRgb:jn,toString:jn}),bn(zn,Yn,_n(xn,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new zn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new zn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qn,formatHex:qn,formatRgb:Rn,toString:Rn})),bn(Wn,(function(t,n,e,r){return 1===arguments.length?Bn(t):new Wn(t,n,e,null==r?1:r)}),_n(xn,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Wn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Wn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new zn(Xn(t>=240?t-240:t+120,i,r),Xn(t,i,r),Xn(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Zn=function(t){return function(){return t}};function Jn(t,n){return function(e){return t+e*n}}function Qn(t){return 1==(t=+t)?Gn:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):Zn(isNaN(n)?e:n)}}function Gn(t,n){var e=n-t;return e?Jn(t,e):Zn(isNaN(t)?n:t)}var Kn=function t(n){var e=Qn(n);function r(t,n){var r=e((t=Yn(t)).r,(n=Yn(n)).r),i=e(t.g,n.g),a=e(t.b,n.b),o=Gn(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=a(n),t.opacity=o(n),t+""}}return r.gamma=t,r}(1);function te(t){return function(n){var e,r,i=n.length,a=new Array(i),o=new Array(i),u=new Array(i);for(e=0;e<i;++e)r=Yn(n[e]),a[e]=r.r||0,o[e]=r.g||0,u[e]=r.b||0;return a=t(a),o=t(o),u=t(u),r.opacity=1,function(t){return r.r=a(t),r.g=o(t),r.b=u(t),r+""}}}te((function(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,u=r<n-1?t[r+2]:2*a-i;return In((e-r/n)*n,o,i,a,u)}})),te((function(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),i=t[(r+n-1)%n],a=t[r%n],o=t[(r+1)%n],u=t[(r+2)%n];return In((e-r/n)*n,i,a,o,u)}}));var ne=function(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(a){for(e=0;e<r;++e)i[e]=t[e]*(1-a)+n[e]*a;return i}};function ee(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function re(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,a=new Array(i),o=new Array(r);for(e=0;e<i;++e)a[e]=ce(t[e],n[e]);for(;e<r;++e)o[e]=n[e];return function(t){for(e=0;e<i;++e)o[e]=a[e](t);return o}}var ie=function(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}},ae=function(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}},oe=function(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=ce(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}},ue=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,se=new RegExp(ue.source,"g");var le=function(t,n){var e,r,i,a=ue.lastIndex=se.lastIndex=0,o=-1,u=[],s=[];for(t+="",n+="";(e=ue.exec(t))&&(r=se.exec(n));)(i=r.index)>a&&(i=n.slice(a,i),u[o]?u[o]+=i:u[++o]=i),(e=e[0])===(r=r[0])?u[o]?u[o]+=r:u[++o]=r:(u[++o]=null,s.push({i:o,x:ae(e,r)})),a=se.lastIndex;return a<n.length&&(i=n.slice(a),u[o]?u[o]+=i:u[++o]=i),u.length<2?s[0]?function(t){return function(n){return t(n)+""}}(s[0].x):function(t){return function(){return t}}(n):(n=s.length,function(t){for(var e,r=0;r<n;++r)u[(e=s[r]).i]=e.x(t);return u.join("")})},ce=function(t,n){var e,r=typeof n;return null==n||"boolean"===r?Zn(n):("number"===r?ae:"string"===r?(e=Pn(n))?(n=e,Kn):le:n instanceof Pn?Kn:n instanceof Date?ie:ee(n)?ne:Array.isArray(n)?re:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?oe:ae)(t,n)},he=function(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}},fe=function(t){return function(){return t}},pe=function(t){return+t},de=[0,1];function ge(t){return t}function me(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:fe(isNaN(n)?NaN:.5)}function ve(t){var n,e=t[0],r=t[t.length-1];return e>r&&(n=e,e=r,r=n),function(t){return Math.max(e,Math.min(r,t))}}function ye(t,n,e){var r=t[0],i=t[1],a=n[0],o=n[1];return i<r?(r=me(i,r),a=e(o,a)):(r=me(r,i),a=e(a,o)),function(t){return a(r(t))}}function we(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++o<r;)i[o]=me(t[o],t[o+1]),a[o]=e(n[o],n[o+1]);return function(n){var e=Gt(t,n,1,r)-1;return a[e](i[e](n))}}function be(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function _e(){var t,n,e,r,i,a,o=de,u=de,s=ce,l=ge;function c(){return r=Math.min(o.length,u.length)>2?we:ye,i=a=null,h}function h(n){return isNaN(n=+n)?e:(i||(i=r(o.map(t),u,s)))(t(l(n)))}return h.invert=function(e){return l(n((a||(a=r(u,o.map(t),ae)))(e)))},h.domain=function(t){return arguments.length?(o=yn.call(t,pe),l===ge||(l=ve(o)),c()):o.slice()},h.range=function(t){return arguments.length?(u=wn.call(t),c()):u.slice()},h.rangeRound=function(t){return u=wn.call(t),s=he,c()},h.clamp=function(t){return arguments.length?(l=t?ve(o):ge,h):l!==ge},h.interpolate=function(t){return arguments.length?(s=t,c()):s},h.unknown=function(t){return arguments.length?(e=t,h):e},function(e,r){return t=e,n=r,c()}}function xe(t,n){return _e()(t,n)}var Me=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ke(t){if(!(n=Me.exec(t)))throw new Error("invalid format: "+t);var n;return new Ae({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function Ae(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}ke.prototype=Ae.prototype,Ae.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Te,Ce,Se,Ne,De=function(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]},Ue=function(t){return(t=De(Math.abs(t)))?t[1]:NaN},Fe=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(i>0){if(!+t[r])break t;i=0}}return i>0?t.slice(0,i)+t.slice(n+1):t},Le=function(t,n){var e=De(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},Ee={"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return Le(100*t,n)},r:Le,s:function(t,n){var e=De(t,n);if(!e)return t+"";var r=e[0],i=e[1],a=i-(Te=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+De(t,Math.max(0,n+a-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},je=function(t){return t},Pe=Array.prototype.map,Oe=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];Ce=function(t){var n,e,r=void 0===t.grouping||void 0===t.thousands?je:(n=Pe.call(t.grouping,Number),e=t.thousands+"",function(t,r){for(var i=t.length,a=[],o=0,u=n[0],s=0;i>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),a.push(t.substring(i-=u,i+u)),!((s+=u+1)>r));)u=n[o=(o+1)%n.length];return a.reverse().join(e)}),i=void 0===t.currency?"":t.currency[0]+"",a=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",u=void 0===t.numerals?je:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(Pe.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"-":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function h(t){var n=(t=ke(t)).fill,e=t.align,h=t.sign,f=t.symbol,p=t.zero,d=t.width,g=t.comma,m=t.precision,v=t.trim,y=t.type;"n"===y?(g=!0,y="g"):Ee[y]||(void 0===m&&(m=12),v=!0,y="g"),(p||"0"===n&&"="===e)&&(p=!0,n="0",e="=");var w="$"===f?i:"#"===f&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===f?a:/[%p]/.test(y)?s:"",_=Ee[y],x=/[defgprs%]/.test(y);function M(t){var i,a,s,f=w,M=b;if("c"===y)M=_(t)+M,t="";else{var k=(t=+t)<0;if(t=isNaN(t)?c:_(Math.abs(t),m),v&&(t=Fe(t)),k&&0==+t&&(k=!1),f=(k?"("===h?h:l:"-"===h||"("===h?"":h)+f,M=("s"===y?Oe[8+Te/3]:"")+M+(k&&"("===h?")":""),x)for(i=-1,a=t.length;++i<a;)if(48>(s=t.charCodeAt(i))||s>57){M=(46===s?o+t.slice(i+1):t.slice(i))+M,t=t.slice(0,i);break}}g&&!p&&(t=r(t,1/0));var A=f.length+t.length+M.length,T=A<d?new Array(d-A+1).join(n):"";switch(g&&p&&(t=r(T+t,T.length?d-M.length:1/0),T=""),e){case"<":t=f+t+M+T;break;case"=":t=f+T+t+M;break;case"^":t=T.slice(0,A=T.length>>1)+f+t+M+T.slice(A);break;default:t=T+f+t+M}return u(t)}return m=void 0===m?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),M.toString=function(){return t+""},M}return{format:h,formatPrefix:function(t,n){var e=h(((t=ke(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Ue(n)/3))),i=Math.pow(10,-r),a=Oe[8+r/3];return function(t){return e(i*t)+a}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),Se=Ce.format,Ne=Ce.formatPrefix;var He=function(t,n,e,r){var i,a=un(t,n,e);switch((r=ke(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Ue(n)/3)))-Ue(Math.abs(t)))}(a,o))||(r.precision=i),Ne(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Ue(n)-Ue(t))+1}(a,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-Ue(Math.abs(t)))}(a))||(r.precision=i-2*("%"===r.type))}return Se(r)};function Ye(t){var n=t.domain;return t.ticks=function(t){var e=n();return an(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return He(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i=n(),a=0,o=i.length-1,u=i[a],s=i[o];return s<u&&(r=u,u=s,s=r,r=a,a=o,o=r),(r=on(u,s,e))>0?r=on(u=Math.floor(u/r)*r,s=Math.ceil(s/r)*r,e):r<0&&(r=on(u=Math.ceil(u*r)/r,s=Math.floor(s*r)/r,e)),r>0?(i[a]=Math.floor(u/r)*r,i[o]=Math.ceil(s/r)*r,n(i)):r<0&&(i[a]=Math.ceil(u*r)/r,i[o]=Math.floor(s*r)/r,n(i)),t},t}function ze(){var t=xe(ge,ge);return t.copy=function(){return be(t,ze())},cn.apply(t,arguments),Ye(t)}var qe=function(t,n){var e,r=0,i=(t=t.slice()).length-1,a=t[r],o=t[i];return o<a&&(e=r,r=i,i=e,e=a,a=o,o=e),t[r]=n.floor(a),t[i]=n.ceil(o),t};var Re=new Date,Ve=new Date;function $e(t,n,e,r){function i(n){return t(n=0===arguments.length?new Date:new Date(+n)),n}return i.floor=function(n){return t(n=new Date(+n)),n},i.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},i.round=function(t){var n=i(t),e=i.ceil(t);return t-n<e-t?n:e},i.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},i.range=function(e,r,a){var o,u=[];if(e=i.ceil(e),a=null==a?1:Math.floor(a),!(e<r&&a>0))return u;do{u.push(o=new Date(+e)),n(e,a),t(e)}while(o<e&&e<r);return u},i.filter=function(e){return $e((function(n){if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;n(t,-1),!e(t););else for(;--r>=0;)for(;n(t,1),!e(t););}))},e&&(i.count=function(n,r){return Re.setTime(+n),Ve.setTime(+r),t(Re),t(Ve),Math.floor(e(Re,Ve))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(n){return r(n)%t==0}:function(n){return i.count(0,n)%t==0}):i:null}),i}var Be=$e((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n)}),(function(t,n){return n.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));Be.every=function(t){return isFinite(t=Math.floor(t))&&t>0?$e((function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)}),(function(n,e){n.setFullYear(n.getFullYear()+e*t)})):null};var We=Be,Xe=(Be.range,$e((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,n){t.setMonth(t.getMonth()+n)}),(function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}))),Ie=(Xe.range,6e4),Ze=6048e5;function Je(t){return $e((function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)}),(function(t,n){t.setDate(t.getDate()+7*n)}),(function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ie)/Ze}))}var Qe=Je(0),Ge=Je(1),Ke=Je(2),tr=Je(3),nr=Je(4),er=Je(5),rr=Je(6),ir=(Qe.range,Ge.range,Ke.range,tr.range,nr.range,er.range,rr.range,$e((function(t){t.setHours(0,0,0,0)}),(function(t,n){t.setDate(t.getDate()+n)}),(function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ie)/864e5}),(function(t){return t.getDate()-1}))),ar=ir,or=(ir.range,$e((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-t.getMinutes()*Ie)}),(function(t,n){t.setTime(+t+36e5*n)}),(function(t,n){return(n-t)/36e5}),(function(t){return t.getHours()}))),ur=(or.range,$e((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,n){t.setTime(+t+n*Ie)}),(function(t,n){return(n-t)/Ie}),(function(t){return t.getMinutes()}))),sr=(ur.range,$e((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,n){t.setTime(+t+1e3*n)}),(function(t,n){return(n-t)/1e3}),(function(t){return t.getUTCSeconds()}))),lr=sr,cr=(sr.range,$e((function(){}),(function(t,n){t.setTime(+t+n)}),(function(t,n){return n-t})));cr.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?$e((function(n){n.setTime(Math.floor(n/t)*t)}),(function(n,e){n.setTime(+n+e*t)}),(function(n,e){return(e-n)/t})):cr:null};var hr=cr;cr.range;function fr(t){return $e((function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+7*n)}),(function(t,n){return(n-t)/Ze}))}var pr=fr(0),dr=fr(1),gr=fr(2),mr=fr(3),vr=fr(4),yr=fr(5),wr=fr(6),br=(pr.range,dr.range,gr.range,mr.range,vr.range,yr.range,wr.range,$e((function(t){t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+n)}),(function(t,n){return(n-t)/864e5}),(function(t){return t.getUTCDate()-1}))),_r=br,xr=(br.range,$e((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)}),(function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()})));xr.every=function(t){return isFinite(t=Math.floor(t))&&t>0?$e((function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)}),(function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)})):null};var Mr=xr;xr.range;function kr(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ar(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Tr(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}var Cr,Sr,Nr,Dr={"-":"",_:" ",0:"0"},Ur=/^\s*\d+/,Fr=/^%/,Lr=/[\\^$*+?|[\]().{}]/g;function Er(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<e?new Array(e-a+1).join(n)+i:i)}function jr(t){return t.replace(Lr,"\\$&")}function Pr(t){return new RegExp("^(?:"+t.map(jr).join("|")+")","i")}function Or(t){for(var n={},e=-1,r=t.length;++e<r;)n[t[e].toLowerCase()]=e;return n}function Hr(t,n,e){var r=Ur.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function Yr(t,n,e){var r=Ur.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function zr(t,n,e){var r=Ur.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function qr(t,n,e){var r=Ur.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function Rr(t,n,e){var r=Ur.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function Vr(t,n,e){var r=Ur.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function $r(t,n,e){var r=Ur.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function Br(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function Wr(t,n,e){var r=Ur.exec(n.slice(e,e+1));return r?(t.q=3*r[0]-3,e+r[0].length):-1}function Xr(t,n,e){var r=Ur.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function Ir(t,n,e){var r=Ur.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function Zr(t,n,e){var r=Ur.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function Jr(t,n,e){var r=Ur.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function Qr(t,n,e){var r=Ur.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function Gr(t,n,e){var r=Ur.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function Kr(t,n,e){var r=Ur.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function ti(t,n,e){var r=Ur.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function ni(t,n,e){var r=Fr.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function ei(t,n,e){var r=Ur.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function ri(t,n,e){var r=Ur.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function ii(t,n){return Er(t.getDate(),n,2)}function ai(t,n){return Er(t.getHours(),n,2)}function oi(t,n){return Er(t.getHours()%12||12,n,2)}function ui(t,n){return Er(1+ar.count(We(t),t),n,3)}function si(t,n){return Er(t.getMilliseconds(),n,3)}function li(t,n){return si(t,n)+"000"}function ci(t,n){return Er(t.getMonth()+1,n,2)}function hi(t,n){return Er(t.getMinutes(),n,2)}function fi(t,n){return Er(t.getSeconds(),n,2)}function pi(t){var n=t.getDay();return 0===n?7:n}function di(t,n){return Er(Qe.count(We(t)-1,t),n,2)}function gi(t,n){var e=t.getDay();return t=e>=4||0===e?nr(t):nr.ceil(t),Er(nr.count(We(t),t)+(4===We(t).getDay()),n,2)}function mi(t){return t.getDay()}function vi(t,n){return Er(Ge.count(We(t)-1,t),n,2)}function yi(t,n){return Er(t.getFullYear()%100,n,2)}function wi(t,n){return Er(t.getFullYear()%1e4,n,4)}function bi(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+Er(n/60|0,"0",2)+Er(n%60,"0",2)}function _i(t,n){return Er(t.getUTCDate(),n,2)}function xi(t,n){return Er(t.getUTCHours(),n,2)}function Mi(t,n){return Er(t.getUTCHours()%12||12,n,2)}function ki(t,n){return Er(1+_r.count(Mr(t),t),n,3)}function Ai(t,n){return Er(t.getUTCMilliseconds(),n,3)}function Ti(t,n){return Ai(t,n)+"000"}function Ci(t,n){return Er(t.getUTCMonth()+1,n,2)}function Si(t,n){return Er(t.getUTCMinutes(),n,2)}function Ni(t,n){return Er(t.getUTCSeconds(),n,2)}function Di(t){var n=t.getUTCDay();return 0===n?7:n}function Ui(t,n){return Er(pr.count(Mr(t)-1,t),n,2)}function Fi(t,n){var e=t.getUTCDay();return t=e>=4||0===e?vr(t):vr.ceil(t),Er(vr.count(Mr(t),t)+(4===Mr(t).getUTCDay()),n,2)}function Li(t){return t.getUTCDay()}function Ei(t,n){return Er(dr.count(Mr(t)-1,t),n,2)}function ji(t,n){return Er(t.getUTCFullYear()%100,n,2)}function Pi(t,n){return Er(t.getUTCFullYear()%1e4,n,4)}function Oi(){return"+0000"}function Hi(){return"%"}function Yi(t){return+t}function zi(t){return Math.floor(+t/1e3)}!function(t){Cr=function(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,u=t.months,s=t.shortMonths,l=Pr(i),c=Or(i),h=Pr(a),f=Or(a),p=Pr(o),d=Or(o),g=Pr(u),m=Or(u),v=Pr(s),y=Or(s),w={a:function(t){return o[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return s[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:null,d:ii,e:ii,f:li,H:ai,I:oi,j:ui,L:si,m:ci,M:hi,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Yi,s:zi,S:fi,u:pi,U:di,V:gi,w:mi,W:vi,x:null,X:null,y:yi,Y:wi,Z:bi,"%":Hi},b={a:function(t){return o[t.getUTCDay()]},A:function(t){return a[t.getUTCDay()]},b:function(t){return s[t.getUTCMonth()]},B:function(t){return u[t.getUTCMonth()]},c:null,d:_i,e:_i,f:Ti,H:xi,I:Mi,j:ki,L:Ai,m:Ci,M:Si,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Yi,s:zi,S:Ni,u:Di,U:Ui,V:Fi,w:Li,W:Ei,x:null,X:null,y:ji,Y:Pi,Z:Oi,"%":Hi},_={a:function(t,n,e){var r=p.exec(n.slice(e));return r?(t.w=d[r[0].toLowerCase()],e+r[0].length):-1},A:function(t,n,e){var r=h.exec(n.slice(e));return r?(t.w=f[r[0].toLowerCase()],e+r[0].length):-1},b:function(t,n,e){var r=v.exec(n.slice(e));return r?(t.m=y[r[0].toLowerCase()],e+r[0].length):-1},B:function(t,n,e){var r=g.exec(n.slice(e));return r?(t.m=m[r[0].toLowerCase()],e+r[0].length):-1},c:function(t,e,r){return k(t,n,e,r)},d:Ir,e:Ir,f:ti,H:Jr,I:Jr,j:Zr,L:Kr,m:Xr,M:Qr,p:function(t,n,e){var r=l.exec(n.slice(e));return r?(t.p=c[r[0].toLowerCase()],e+r[0].length):-1},q:Wr,Q:ei,s:ri,S:Gr,u:Yr,U:zr,V:qr,w:Hr,W:Rr,x:function(t,n,r){return k(t,e,n,r)},X:function(t,n,e){return k(t,r,n,e)},y:$r,Y:Vr,Z:Br,"%":ni};function x(t,n){return function(e){var r,i,a,o=[],u=-1,s=0,l=t.length;for(e instanceof Date||(e=new Date(+e));++u<l;)37===t.charCodeAt(u)&&(o.push(t.slice(s,u)),null!=(i=Dr[r=t.charAt(++u)])?r=t.charAt(++u):i="e"===r?" ":"0",(a=n[r])&&(r=a(e,i)),o.push(r),s=u+1);return o.push(t.slice(s,u)),o.join("")}}function M(t,n){return function(e){var r,i,a=Tr(1900,void 0,1);if(k(a,t,e+="",0)!=e.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(!n||"Z"in a||(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=Ar(Tr(a.y,0,1))).getUTCDay(),r=i>4||0===i?dr.ceil(r):dr(r),r=_r.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=kr(Tr(a.y,0,1))).getDay(),r=i>4||0===i?Ge.ceil(r):Ge(r),r=ar.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?Ar(Tr(a.y,0,1)).getUTCDay():kr(Tr(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,Ar(a)):kr(a)}}function k(t,n,e,r){for(var i,a,o=0,u=n.length,s=e.length;o<u;){if(r>=s)return-1;if(37===(i=n.charCodeAt(o++))){if(i=n.charAt(o++),!(a=_[i in Dr?n.charAt(o++):i])||(r=a(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}return(w.x=x(e,w),w.X=x(r,w),w.c=x(n,w),b.x=x(e,b),b.X=x(r,b),b.c=x(n,b),{format:function(t){var n=x(t+="",w);return n.toString=function(){return t},n},parse:function(t){var n=M(t+="",!1);return n.toString=function(){return t},n},utcFormat:function(t){var n=x(t+="",b);return n.toString=function(){return t},n},utcParse:function(t){var n=M(t+="",!0);return n.toString=function(){return t},n}})}(t),Sr=Cr.format,Cr.parse,Nr=Cr.utcFormat,Cr.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var qi=1e3,Ri=60*qi,Vi=60*Ri,$i=24*Vi,Bi=7*$i,Wi=30*$i,Xi=365*$i;function Ii(t){return new Date(t)}function Zi(t){return t instanceof Date?+t:+new Date(+t)}function Ji(t,n,e,r,i,a,o,u,s){var l=xe(ge,ge),c=l.invert,h=l.domain,f=s(".%L"),p=s(":%S"),d=s("%I:%M"),g=s("%I %p"),m=s("%a %d"),v=s("%b %d"),y=s("%B"),w=s("%Y"),b=[[o,1,qi],[o,5,5*qi],[o,15,15*qi],[o,30,30*qi],[a,1,Ri],[a,5,5*Ri],[a,15,15*Ri],[a,30,30*Ri],[i,1,Vi],[i,3,3*Vi],[i,6,6*Vi],[i,12,12*Vi],[r,1,$i],[r,2,2*$i],[e,1,Bi],[n,1,Wi],[n,3,3*Wi],[t,1,Xi]];function _(u){return(o(u)<u?f:a(u)<u?p:i(u)<u?d:r(u)<u?g:n(u)<u?e(u)<u?m:v:t(u)<u?y:w)(u)}function x(n,e,r,i){if(null==n&&(n=10),"number"==typeof n){var a=Math.abs(r-e)/n,o=Zt((function(t){return t[2]})).right(b,a);o===b.length?(i=un(e/Xi,r/Xi,n),n=t):o?(i=(o=b[a/b[o-1][2]<b[o][2]/a?o-1:o])[1],n=o[0]):(i=Math.max(un(e,r,n),1),n=u)}return null==i?n:n.every(i)}return l.invert=function(t){return new Date(c(t))},l.domain=function(t){return arguments.length?h(yn.call(t,Zi)):h().map(Ii)},l.ticks=function(t,n){var e,r=h(),i=r[0],a=r[r.length-1],o=a<i;return o&&(e=i,i=a,a=e),e=(e=x(t,i,a,n))?e.range(i,a+1):[],o?e.reverse():e},l.tickFormat=function(t,n){return null==n?_:s(n)},l.nice=function(t,n){var e=h();return(t=x(t,e[0],e[e.length-1],n))?h(qe(e,t)):l},l.copy=function(){return be(l,Ji(t,n,e,r,i,a,o,u,s))},l}var Qi=$e((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCMonth(t.getUTCMonth()+n)}),(function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),Gi=Qi,Ki=(Qi.range,$e((function(t){t.setUTCMinutes(0,0,0)}),(function(t,n){t.setTime(+t+36e5*n)}),(function(t,n){return(n-t)/36e5}),(function(t){return t.getUTCHours()}))),ta=Ki,na=(Ki.range,$e((function(t){t.setUTCSeconds(0,0)}),(function(t,n){t.setTime(+t+n*Ie)}),(function(t,n){return(n-t)/Ie}),(function(t){return t.getUTCMinutes()}))),ea=na,ra=(na.range,function(){return cn.apply(Ji(Mr,Gi,pr,_r,ta,ea,lr,hr,Nr).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)});var ia={value:function(){}};function aa(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new oa(r)}function oa(t){this._=t}function ua(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))}function sa(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function la(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=ia,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}oa.prototype=aa.prototype={constructor:oa,on:function(t,n){var e,r=this._,i=ua(t+"",r),a=-1,o=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++a<o;)if(e=(t=i[a]).type)r[e]=la(r[e],t.name,n);else if(null==n)for(e in r)r[e]=la(r[e],t.name,null);return this}for(;++a<o;)if((e=(t=i[a]).type)&&(e=sa(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new oa(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),a=0;a<e;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,e=(r=this._[t]).length;a<e;++a)r[a].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(n,e)}};var ca,ha,fa=aa,pa=0,da=0,ga=0,ma=1e3,va=0,ya=0,wa=0,ba="object"==typeof performance&&performance.now?performance:Date,_a="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function xa(){return ya||(_a(Ma),ya=ba.now()+wa)}function Ma(){ya=0}function ka(){this._call=this._time=this._next=null}function Aa(t,n,e){var r=new ka;return r.restart(t,n,e),r}function Ta(){ya=(va=ba.now())+wa,pa=da=0;try{!function(){xa(),++pa;for(var t,n=ca;n;)(t=ya-n._time)>=0&&n._call.call(null,t),n=n._next;--pa}()}finally{pa=0,function(){var t,n,e=ca,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:ca=n);ha=t,Sa(r)}(),ya=0}}function Ca(){var t=ba.now(),n=t-va;n>ma&&(wa-=n,va=t)}function Sa(t){pa||(da&&(da=clearTimeout(da)),t-ya>24?(t<1/0&&(da=setTimeout(Ta,t-ba.now()-wa)),ga&&(ga=clearInterval(ga))):(ga||(va=ba.now(),ga=setInterval(Ca,ma)),pa=1,_a(Ta)))}ka.prototype=Aa.prototype={constructor:ka,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?xa():+e)+(null==n?0:+n),this._next||ha===this||(ha?ha._next=this:ca=this,ha=this),this._call=t,this._time=e,Sa()},stop:function(){this._call&&(this._call=null,this._time=1/0,Sa())}};var Na=function(t,n,e){var r=new ka;return n=null==n?0:+n,r.restart((function(e){r.stop(),t(e+n)}),n,e),r},Da=fa("start","end","cancel","interrupt"),Ua=[],Fa=0,La=1,Ea=2,ja=3,Pa=4,Oa=5,Ha=6,Ya=function(t,n,e,r,i,a){var o=t.__transition;if(o){if(e in o)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function a(s){var l,c,h,f;if(e.state!==La)return u();for(l in i)if((f=i[l]).name===e.name){if(f.state===ja)return Na(a);f.state===Pa?(f.state=Ha,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete i[l]):+l<n&&(f.state=Ha,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete i[l])}if(Na((function(){e.state===ja&&(e.state=Pa,e.timer.restart(o,e.delay,e.time),o(s))})),e.state=Ea,e.on.call("start",t,t.__data__,e.index,e.group),e.state===Ea){for(e.state=ja,r=new Array(h=e.tween.length),l=0,c=-1;l<h;++l)(f=e.tween[l].value.call(t,t.__data__,e.index,e.group))&&(r[++c]=f);r.length=c+1}}function o(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(u),e.state=Oa,1),a=-1,o=r.length;++a<o;)r[a].call(t,i);e.state===Oa&&(e.on.call("end",t,t.__data__,e.index,e.group),u())}function u(){for(var r in e.state=Ha,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=Aa((function(t){e.state=La,e.timer.restart(a,e.delay,e.time),e.delay<=t&&a(t-e.delay)}),0,e.time)}(t,e,{name:n,index:r,group:i,on:Da,tween:Ua,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Fa})};function za(t,n){var e=Ra(t,n);if(e.state>Fa)throw new Error("too late; already scheduled");return e}function qa(t,n){var e=Ra(t,n);if(e.state>ja)throw new Error("too late; already running");return e}function Ra(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}var Va,$a,Ba,Wa,Xa=180/Math.PI,Ia={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Za=function(t,n,e,r,i,a){var o,u,s;return(o=Math.sqrt(t*t+n*n))&&(t/=o,n/=o),(s=t*e+n*r)&&(e-=t*s,r-=n*s),(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u,s/=u),t*r<n*e&&(t=-t,n=-n,s=-s,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(n,t)*Xa,skewX:Math.atan(s)*Xa,scaleX:o,scaleY:u}};function Ja(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(a,o){var u=[],s=[];return a=t(a),o=t(o),function(t,r,i,a,o,u){if(t!==i||r!==a){var s=o.push("translate(",null,n,null,e);u.push({i:s-4,x:ae(t,i)},{i:s-2,x:ae(r,a)})}else(i||a)&&o.push("translate("+i+n+a+e)}(a.translateX,a.translateY,o.translateX,o.translateY,u,s),function(t,n,e,a){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),a.push({i:e.push(i(e)+"rotate(",null,r)-2,x:ae(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(a.rotate,o.rotate,u,s),function(t,n,e,a){t!==n?a.push({i:e.push(i(e)+"skewX(",null,r)-2,x:ae(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(a.skewX,o.skewX,u,s),function(t,n,e,r,a,o){if(t!==e||n!==r){var u=a.push(i(a)+"scale(",null,",",null,")");o.push({i:u-4,x:ae(t,e)},{i:u-2,x:ae(n,r)})}else 1===e&&1===r||a.push(i(a)+"scale("+e+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,u,s),a=o=null,function(t){for(var n,e=-1,r=s.length;++e<r;)u[(n=s[e]).i]=n.x(t);return u.join("")}}}var Qa=Ja((function(t){return"none"===t?Ia:(Va||(Va=document.createElement("DIV"),$a=document.documentElement,Ba=document.defaultView),Va.style.transform=t,t=Ba.getComputedStyle($a.appendChild(Va),null).getPropertyValue("transform"),$a.removeChild(Va),t=t.slice(7,-1).split(","),Za(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),Ga=Ja((function(t){return null==t?Ia:(Wa||(Wa=document.createElementNS("http://www.w3.org/2000/svg","g")),Wa.setAttribute("transform",t),(t=Wa.transform.baseVal.consolidate())?(t=t.matrix,Za(t.a,t.b,t.c,t.d,t.e,t.f)):Ia)}),", ",")",")");function Ka(t,n){var e,r;return function(){var i=qa(this,t),a=i.tween;if(a!==e)for(var o=0,u=(r=e=a).length;o<u;++o)if(r[o].name===n){(r=r.slice()).splice(o,1);break}i.tween=r}}function to(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var a=qa(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var u={name:n,value:e},s=0,l=i.length;s<l;++s)if(i[s].name===n){i[s]=u;break}s===l&&i.push(u)}a.tween=i}}function no(t,n,e){var r=t._id;return t.each((function(){var t=qa(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return Ra(t,r).value[n]}}var eo=function(t,n){var e;return("number"==typeof n?ae:n instanceof Pn?Kn:(e=Pn(n))?(n=e,Kn):le)(t,n)};function ro(t){return function(){this.removeAttribute(t)}}function io(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ao(t,n,e){var r,i,a=e+"";return function(){var o=this.getAttribute(t);return o===a?null:o===r?i:i=n(r=o,e)}}function oo(t,n,e){var r,i,a=e+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===a?null:o===r?i:i=n(r=o,e)}}function uo(t,n,e){var r,i,a;return function(){var o,u,s=e(this);if(null!=s)return(o=this.getAttribute(t))===(u=s+"")?null:o===r&&u===i?a:(i=u,a=n(r=o,s));this.removeAttribute(t)}}function so(t,n,e){var r,i,a;return function(){var o,u,s=e(this);if(null!=s)return(o=this.getAttributeNS(t.space,t.local))===(u=s+"")?null:o===r&&u===i?a:(i=u,a=n(r=o,s));this.removeAttributeNS(t.space,t.local)}}function lo(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&function(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}(t,i)),e}return i._value=n,i}function co(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&function(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}(t,i)),e}return i._value=n,i}function ho(t,n){return function(){za(this,t).delay=+n.apply(this,arguments)}}function fo(t,n){return n=+n,function(){za(this,t).delay=n}}function po(t,n){return function(){qa(this,t).duration=+n.apply(this,arguments)}}function go(t,n){return n=+n,function(){qa(this,t).duration=n}}function mo(t,n){if("function"!=typeof n)throw new Error;return function(){qa(this,t).ease=n}}function vo(t,n,e){var r,i,a=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?za:qa;return function(){var o=a(this,t),u=o.on;u!==r&&(i=(r=u).copy()).on(n,e),o.on=i}}var yo=pt.prototype.constructor;function wo(t){return function(){this.style.removeProperty(t)}}function bo(t,n,e){var r,i;function a(){var a=n.apply(this,arguments);return a!==i&&(r=(i=a)&&function(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}(t,a,e)),r}return a._value=n,a}function _o(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&function(t){return function(n){this.textContent=t.call(this,n)}}(r)),n}return r._value=t,r}var xo=0;function Mo(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function ko(){return++xo}var Ao=pt.prototype;Mo.prototype=function(t){return pt().transition(t)}.prototype={constructor:Mo,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=i(t));for(var r=this._groups,a=r.length,o=new Array(a),u=0;u<a;++u)for(var s,l,c=r[u],h=c.length,f=o[u]=new Array(h),p=0;p<h;++p)(s=c[p])&&(l=t.call(s,s.__data__,p,c))&&("__data__"in s&&(l.__data__=s.__data__),f[p]=l,Ya(f[p],n,e,p,f,Ra(s,e)));return new Mo(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=o(t));for(var r=this._groups,i=r.length,a=[],u=[],s=0;s<i;++s)for(var l,c=r[s],h=c.length,f=0;f<h;++f)if(l=c[f]){for(var p,d=t.call(l,l.__data__,f,c),g=Ra(l,e),m=0,v=d.length;m<v;++m)(p=d[m])&&Ya(p,n,e,m,d,g);a.push(d),u.push(l)}return new Mo(a,u,n,e)},filter:function(t){"function"!=typeof t&&(t=u(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a,o=n[i],s=o.length,l=r[i]=[],c=0;c<s;++c)(a=o[c])&&t.call(a,a.__data__,c,o)&&l.push(a);return new Mo(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,a=Math.min(r,i),o=new Array(r),u=0;u<a;++u)for(var s,l=n[u],c=e[u],h=l.length,f=o[u]=new Array(h),p=0;p<h;++p)(s=l[p]||c[p])&&(f[p]=s);for(;u<r;++u)o[u]=n[u];return new Mo(o,this._parents,this._name,this._id)},selection:function(){return new yo(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=ko(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,u=r[a],s=u.length,l=0;l<s;++l)if(o=u[l]){var c=Ra(o,n);Ya(o,t,e,l,u,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Mo(r,this._parents,t,e)},call:Ao.call,nodes:Ao.nodes,node:Ao.node,size:Ao.size,empty:Ao.empty,each:Ao.each,on:function(t,n){var e=this._id;return arguments.length<2?Ra(this.node(),e).on.on(t):this.each(vo(e,t,n))},attr:function(t,n){var e=m(t),r="transform"===e?Ga:eo;return this.attrTween(t,"function"==typeof n?(e.local?so:uo)(e,r,no(this,"attr."+t,n)):null==n?(e.local?io:ro)(e):(e.local?oo:ao)(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=m(t);return this.tween(e,(r.local?lo:co)(r,n))},style:function(t,n,e){var r="transform"==(t+="")?Qa:eo;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var a=C(this,t),o=(this.style.removeProperty(t),C(this,t));return a===o?null:a===e&&o===r?i:i=n(e=a,r=o)}}(t,r)).on("end.style."+t,wo(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,i,a;return function(){var o=C(this,t),u=e(this),s=u+"";return null==u&&(this.style.removeProperty(t),s=u=C(this,t)),o===s?null:o===r&&s===i?a:(i=s,a=n(r=o,u))}}(t,r,no(this,"style."+t,n))).each(function(t,n){var e,r,i,a,o="style."+n,u="end."+o;return function(){var s=qa(this,t),l=s.on,c=null==s.value[o]?a||(a=wo(n)):void 0;l===e&&i===c||(r=(e=l).copy()).on(u,i=c),s.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,i,a=e+"";return function(){var o=C(this,t);return o===a?null:o===r?i:i=n(r=o,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,bo(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(no(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,_o(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}));var t},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=Ra(this.node(),e).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===t)return r.value;return null}return this.each((null==n?Ka:to)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?ho:fo)(n,t)):Ra(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?po:go)(n,t)):Ra(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(mo(n,t)):Ra(this.node(),n).ease},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise((function(a,o){var u={value:o},s={value:function(){0==--i&&a()}};e.each((function(){var e=qa(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(u),n._.interrupt.push(u),n._.end.push(s)),e.on=n}))}))}};var To={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Co(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return To.time=xa(),To;return e}pt.prototype.interrupt=function(t){return this.each((function(){!function(t,n){var e,r,i,a=t.__transition,o=!0;if(a){for(i in n=null==n?null:n+"",a)(e=a[i]).name===n?(r=e.state>Ea&&e.state<Oa,e.state=Ha,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete a[i]):o=!1;o&&delete t.__transition}}(this,t)}))},pt.prototype.transition=function(t){var n,e;t instanceof Mo?(n=t._id,t=t._name):(n=ko(),(e=To).time=xa(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,u=r[a],s=u.length,l=0;l<s;++l)(o=u[l])&&Ya(o,t,n,l,u,e||Co(o,n));return new Mo(r,this._parents,t,n)};var So=Array.prototype.slice,No=function(t){return t},Do=1,Uo=2,Fo=3,Lo=4,Eo=1e-6;function jo(t){return"translate("+(t+.5)+",0)"}function Po(t){return"translate(0,"+(t+.5)+")"}function Oo(t){return function(n){return+t(n)}}function Ho(t){var n=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(n=Math.round(n)),function(e){return+t(e)+n}}function Yo(){return!this.__axis}function zo(t,n){var e=[],r=null,i=null,a=6,o=6,u=3,s=t===Do||t===Lo?-1:1,l=t===Lo||t===Uo?"x":"y",c=t===Do||t===Fo?jo:Po;function h(h){var f=null==r?n.ticks?n.ticks.apply(n,e):n.domain():r,p=null==i?n.tickFormat?n.tickFormat.apply(n,e):No:i,d=Math.max(a,0)+u,g=n.range(),m=+g[0]+.5,v=+g[g.length-1]+.5,y=(n.bandwidth?Ho:Oo)(n.copy()),w=h.selection?h.selection():h,b=w.selectAll(".domain").data([null]),_=w.selectAll(".tick").data(f,n).order(),x=_.exit(),M=_.enter().append("g").attr("class","tick"),k=_.select("line"),A=_.select("text");b=b.merge(b.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),_=_.merge(M),k=k.merge(M.append("line").attr("stroke","currentColor").attr(l+"2",s*a)),A=A.merge(M.append("text").attr("fill","currentColor").attr(l,s*d).attr("dy",t===Do?"0em":t===Fo?"0.71em":"0.32em")),h!==w&&(b=b.transition(h),_=_.transition(h),k=k.transition(h),A=A.transition(h),x=x.transition(h).attr("opacity",Eo).attr("transform",(function(t){return isFinite(t=y(t))?c(t):this.getAttribute("transform")})),M.attr("opacity",Eo).attr("transform",(function(t){var n=this.parentNode.__axis;return c(n&&isFinite(n=n(t))?n:y(t))}))),x.remove(),b.attr("d",t===Lo||t==Uo?o?"M"+s*o+","+m+"H0.5V"+v+"H"+s*o:"M0.5,"+m+"V"+v:o?"M"+m+","+s*o+"V0.5H"+v+"V"+s*o:"M"+m+",0.5H"+v),_.attr("opacity",1).attr("transform",(function(t){return c(y(t))})),k.attr(l+"2",s*a),A.attr(l,s*d).text(p),w.filter(Yo).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Uo?"start":t===Lo?"end":"middle"),w.each((function(){this.__axis=y}))}return h.scale=function(t){return arguments.length?(n=t,h):n},h.ticks=function(){return e=So.call(arguments),h},h.tickArguments=function(t){return arguments.length?(e=null==t?[]:So.call(t),h):e.slice()},h.tickValues=function(t){return arguments.length?(r=null==t?null:So.call(t),h):r&&r.slice()},h.tickFormat=function(t){return arguments.length?(i=t,h):i},h.tickSize=function(t){return arguments.length?(a=o=+t,h):a},h.tickSizeInner=function(t){return arguments.length?(a=+t,h):a},h.tickSizeOuter=function(t){return arguments.length?(o=+t,h):o},h.tickPadding=function(t){return arguments.length?(u=+t,h):u},h}const qo={Gap:"#a3002e",Loft:"#ffbb00","Ralph Lauren":"#ed0f07","Old Navy":"#ff7708",Talbots:"#c700e6","Michael Kors":"#6a007a",Used:"#06D6A0",NWT:"#118AB2",NWOT:"#073B4C",Average:"#000"};class Ro{constructor(t,n){this.holder=t,this.lineLayer=this.holder.append("g"),this.isPriceScale=n,this.margin={left:100,right:50,top:25,bottom:75},this.width=this.holder.node().clientWidth,this.height=this.holder.node().clientHeight,this.x=ra().range([this.margin.left,this.width-this.margin.right]),this.countScale=ze().range([this.height-this.margin.bottom,this.margin.top]),this.priceScale=ze().range([this.height-this.margin.bottom,this.margin.top]),this.countLine=Xt().x(t=>this.x(t.date)).y(t=>this.countScale(t.count)),this.priceLine=Xt().x(t=>this.x(t.date)).y(t=>this.priceScale(t.price)),this.yAxis=this.holder.append("g").attr("class","yAxis"),this.xAxis=this.holder.append("g").attr("class","xAxis"),this.drawAxes=this.drawAxes.bind(this),this.draw=this.draw.bind(this),this.resize=this.resize.bind(this),this.bisect=this.bisect.bind(this),this.callout=this.callout.bind(this),this.tooltipLayer=this.holder.append("g").attr("class","tooltipLayer"),this.tooltipLayer.append("line").style("pointer-events","none"),this.tooltipLayer.append("text").attr("class","date").attr("text-anchor","middle"),this.dateFormat=Sr("%b %d, %Y"),this.priceFormat=Se("$.2f"),this.countFormat=Se(","),window.addEventListener("resize",()=>this.resize());let e=this.bisect,r=this.callout;this.holder.on("touchmove mousemove",(function(){const t=jt(this)[0],n=e(t);r(n,t)})),this.holder.on("touchend mouseleave",(function(){r(null)})),this.yLabel=this.holder.append("g").attr("transform","translate("+(this.margin.left/2-5)+","+(this.height-this.margin.top-this.margin.bottom)/2+")"),this.yLabelText=this.yLabel.append("text").style("font-weight",700).attr("text-anchor","middle").attr("transform","rotate(-90)").text(n?"Average Price per 2 Week Period":"Total Count per 2 Week Period")}resize(){this.width=this.holder.node().clientWidth,this.height=this.holder.node().clientHeight,this.x.range([this.margin.left,this.width-this.margin.right]),this.countScale.range([this.height-this.margin.bottom,this.margin.top]),this.priceScale.range([this.height-this.margin.bottom,this.margin.top]),this.draw()}draw(t,n,e){t&&(this.data=t),n&&(this.visibility=n),void 0!==e&&(this.isPriceScale=e),this.yLabel.transition().duration(300).attr("transform","translate("+(this.margin.left/2-5)+","+(this.height-this.margin.top-this.margin.bottom)/2+")"),this.yLabelText.text(this.isPriceScale?"Average Price per 2 Week Period":"Total Count per 2 Week Period");const r=Object.entries(this.data).map(([t,n])=>({key:t,value:n}));let i=sn(Object.values(this.data).map(t=>sn(t,t=>t.price))),a=sn(Object.values(this.data).map(t=>sn(t,t=>t.count)));ln(Object.values(this.data).map(t=>ln(t,t=>t.price))),ln(Object.values(this.data).map(t=>ln(t,t=>t.count)));this.mappedData=r,this.countScale.domain([0,a]),this.priceScale.domain([0,i]),this.x.domain(Kt(this.data[Object.keys(this.data)[0]].map(t=>t.date))),this.drawAxes();this.lineLayer;let o=this.priceLine,u=this.countLine,s=this.isPriceScale,l=(this.data,this.lineLayer.selectAll("path.path").data(r,t=>t.key)),c=l.enter().append("path").attr("class","path"),h=this.visibility;l.attr("stroke-dasharray",t=>"Average"===t.key?"1 3":0).attr("stroke-dashoffset",0).transition().duration(200).attr("d",(function(t){return s?o(t.value):u(t.value)})).style("opacity",(function(t){return(s||"Average"!==t.key)&&h[t.key]?1:0})),l.exit().remove();let f=this.lineLayer,p=this.tooltipLayer;c.attr("class",t=>"path "+t.key.split(" ").join("")).attr("stroke",t=>qo[t.key]).attr("stroke-opacity",.5).style("opacity",(function(t){return(s||"Average"!==t.key)&&h[t.key]?1:0})).attr("fill","none").attr("stroke-width",1.5).attr("stroke-linejoin","round").attr("stroke-linecap","round").attr("d",(function(t){return s?o(t.value):u(t.value)})).attr("stroke-dasharray",(function(t){if("Average"===t.key)return"1 3";let n=dt(this).node().getTotalLength();return n+" "+n})).attr("stroke-dashoffset",(function(t){if("Average"===t.key)return 0;return dt(this).node().getTotalLength()})).on("mouseenter",(function(t){f.selectAll("path:not(."+t.key.split(" ").join("")+")").attr("stroke-opacity",.15),p.selectAll("g:not(."+t.key.split(" ").join("")+")").style("opacity",.15)})).on("mouseout",(function(t){f.selectAll("path").attr("stroke-opacity",.5),p.selectAll("g:not(."+t.key.split(" ").join("")+")").style("opacity",1)})).transition().duration(750).attr("stroke-dashoffset",0)}bisect(t){const n=Zt(t=>t.date).left,e=this.x.invert(t);if(this.mappedData&&this.mappedData[0]){const t=n(this.mappedData[0].value,e,1),r=this.mappedData[0].value[t-1],i=this.mappedData[0].value[t];let a;return a=i&&e-r.date>i.date-e?this.mappedData.map(n=>({name:n.key,value:n.value[t],prev:n.value[t-1]})):this.mappedData.map(n=>({name:n.key,value:n.value[t-1],prev:n.value[t]})),a}return[]}drawAxes(){var t;this.xAxis.attr("transform",`translate(0,${this.height-this.margin.bottom})`).call((t=this.x,zo(Fo,t)));let n=this.isPriceScale,e=Se(",");this.yAxis.attr("transform",`translate(${this.margin.left},0)`).transition().duration(300).call(function(t){return zo(Uo,t)}(this.isPriceScale?this.priceScale:this.countScale).tickSize(this.width-this.margin.left-this.margin.right).tickFormat(t=>n?`$${t}`:e(t))).call(t=>t.select(".domain").remove()).call(t=>t.selectAll(".tick text").attr("x",-16))}callout(t,n){let e=this.priceFormat,r=this.countFormat;if(null===t||this.x.invert(n)<this.x.domain()[0]||this.x.invert(n)>this.x.domain()[1])this.tooltipLayer.style("display","none");else{for(var i=[],a=0;a<t.length;a++)i.push({ind:a,y:this.isPriceScale?this.priceScale(t[a].value.price):this.countScale(t[a].value.count),off:0});i.sort((function(t,n){return t.y-n.y})),i.forEach((function(t,n){if(n>0){var e=i[n-1].y;i[n].off=Math.max(0,e+22-i[n].y),i[n].y+=i[n].off}})),i.sort((function(t,n){return t.ind-n.ind})),this.tooltipLayer.style("display","initial"),this.tooltipLayer.select("line").attr("stroke","black").attr("x1",n).attr("x2",n).attr("y1",this.height-this.margin.bottom).attr("y2",this.margin.top);let o=this.dateFormat;this.tooltipLayer.select(".date").text((function(n){if(!t||t.length<1)return"";let e=[t[0].value.date,t[0].prev.date].sort((t,n)=>t-n);return o(e[0])+" - "+o(e[1])})).attr("x",n).attr("y",this.margin.top-5).attr("text-anchor",(function(t){return n<window.innerWidth/6?"start":n>window.innerWidth-window.innerWidth/6?"end":"middle"}));let u=this.tooltipLayer.selectAll("g").data(t,t=>t.name),s=u.enter().append("g").attr("class",t=>t.name.split(" ").join(""));u.exit().remove();let l=this.x,c=this.isPriceScale,h=this.priceScale,f=this.countScale;u.select(".tooltip").attr("x",(function(t){if(n<window.innerWidth/2)return 15;let i="";return i=c?e(t.value.price)+" - "+t.name:r(t.value.count)+" - "+t.name,-8.75*i.length-5})),u.select(".tooltip").select(".val").text((function(t){return c?n<window.innerWidth/2?e(t.value.price)+" - "+t.name:t.name+" - "+e(t.value.price):n<window.innerWidth/2?r(t.value.count)+" - "+t.name:t.name+" - "+r(t.value.count)})).attr("y",(function(t,n){return i[n].off})),u.select("rect").attr("x",(function(t){if(n<window.innerWidth/2)return 10;let i="";return i=c?e(t.value.price)+" - "+t.name:r(t.value.count)+" - "+t.name,-8.75*i.length-10})).attr("width",(function(t){let n="";return n=c?e(t.value.price)+" - "+t.name:r(t.value.count)+" - "+t.name,8.75*n.length})).attr("y",(function(t,n){return i[n].off-15})),u.attr("transform",(function(t,n){return"translate("+(l(t.value.date)+2)+" , "+(c?h(t.value.price):f(t.value.count))+")"})).style("visibility",t=>(c||"Average"!==t.name)&&this.visibility[t.name]?"initial":"hidden"),s.append("rect").attr("width",(function(t){let n="";return n=c?e(t.value.price)+" - "+t.name:r(t.value.count)+" - "+t.name,8.75*n.length})).attr("height",20).attr("stroke",t=>qo[t.name]).attr("stroke-width",1.5).attr("fill","#fff").attr("fill-opacity",.75);let p=this.lineLayer,d=this.tooltipLayer;s.append("circle").attr("r",4).attr("cx",-2).attr("fill","none").attr("stroke",t=>qo[t.name]).attr("stroke-width",1.5).on("mouseenter",(function(t){p.selectAll("path:not(."+t.name.split(" ").join("")+")").attr("stroke-opacity",.15),d.selectAll("g:not(."+t.name.split(" ").join("")+")").style("opacity",.15)})).on("mouseout",(function(t){p.selectAll("path").attr("stroke-opacity",.5),d.selectAll("g:not(."+t.name.split(" ").join("")+")").style("opacity",1)})),s.append("text").attr("class","tooltip").attr("y",15),s.select(".tooltip").append("tspan").attr("class","val").text((c?t=>this.priceFormat(t.value.price):t=>this.countFormat(t.value.count))+" - "+(t=>t.name))}}}var Vo='<svg xmlns="http://www.w3.org/2000/svg" style="display: none">\n  <symbol id="checkmark" viewBox="0 0 25 25">\n    <rect width="25" height="25" x="0" y="0"/>\n  </symbol>\n</svg>',$o='<svg xmlns="http://www.w3.org/2000/svg" style="display: none">\n  <symbol id="radio" viewBox="0 0 25 25">\n    <circle r="12.5" cx="12.5" cy="12.5"/>\n  </symbol>\n</svg>';class Bo{constructor(t,n,e,r,i,a,o){this.holder=t,this.visibility=n,this.visualizingBrand=e,this.setVisibility=i,this.priceScale=a,this.setScale=o,this.holder.append("div").html(Vo),this.holder.append("div").html($o),this.brand=t.append("div").attr("class","brand").on("click",(function(t){dt(this).classed("inactive",!1),dt(".state").classed("inactive",!0),r(!0)})),this.state=t.append("div").attr("class","state inactive").on("click",(function(t){dt(this).classed("inactive",!1),dt(".brand").classed("inactive",!0),r(!1)})),this.general=t.append("div").attr("class","general").append("div").attr("class","general-inner"),this.brand.append("h3").html("Brand"),this.state.append("h3").html("State"),this.general.append("h3").html("Scale"),this.brandForm=this.brand.append("form"),this.stateForm=this.state.append("form"),this.generalForm=this.general.append("form").attr("class","generalForm"),this.arrow=this.general.append("div"),this.arrow.style("display","inline-block").style("margin-left","10px").attr("class","arrowDiv").append("svg").attr("viewBox","0 0 100 15").attr("width","100px").attr("height","15px").append("defs").append("marker").attr("id","arrow").attr("viewBox","0 0 10 10").attr("refX","5").attr("refY","5").append("path").attr("fill","#444").attr("d","M 0 0 L 10 5 L 0 10 z"),this.arrow.select("svg").append("path").attr("d","M 0 10 L 95 10").attr("stroke","#444").attr("stroke-width",2).attr("stroke-dasharray","8 4").attr("marker-end","url(#arrow)"),this.averageForm=this.general.append("form").attr("class","averageForm"),this.update(this.visibility,this.priceScale)}update(t,n,e){this.visibility=t,this.priceScale=n,this.visualizingBrand=e,this.constructCheckbox(this.brandForm,this.visibility,"brand"),this.constructCheckbox(this.stateForm,this.visibility,"state"),this.constructRadio(this.generalForm,this.priceScale),this.constructCheckbox(this.averageForm,this.visibility,"brand",!0),this.arrow.style("visibility",this.priceScale?"visible":"hidden"),this.averageForm.style("visibility",this.priceScale?"visible":"hidden")}constructRadio(t,n){let e=t.selectAll(".promoted-checkbox.radio").data(["Count","Price"],t=>t),r=this.setScale;e.enter().append("div").attr("class","promoted-checkbox radio").each((function(t){let e=dt(this);e.append("input").attr("type","radio").attr("class","promoted-input-checkbox").attr("id",t).attr("name","scale").attr("value",t).property("checked",(function(e){return"Price"===t&&!0===n||"Count"===t&&!1===n})).on("click",(function(t){r("Price"===t)}));let i=e.append("label").attr("for",t);i.append("svg").append("use").attr("xlink:href","#radio"),i.append("span").html(t)}))}constructCheckbox(t,n,e,r){let i=Object.keys(n[e]).filter(t=>"Average"!==t);r&&(i=Object.keys(n[e]).filter(t=>"Average"===t));let a=this.setVisibility,o=t.selectAll("div").data(i,(function(t){return t}));t.selectAll("div").each((function(t){dt(this).select("checkbox").property("checked",n[e][t])})),o.enter().append("div").attr("class","promoted-checkbox").each((function(t){let r=dt(this);r.append("input").attr("type","checkbox").attr("class","promoted-input-checkbox").attr("id",t).attr("name",t).attr("value",t).property("checked",n[e][t]).on("click",(function(t){"Average"===t?(a("brand",t),a("state",t)):a(e,t)}));let i=r.append("label").attr("for",t);i.append("svg").attr("fill",qo[t]).append("use").attr("xlink:href","#checkmark"),i.append("span").html("Average"===t?"Show Average":t)}))}}document.body.appendChild(function(){const t=document.createElement("div");let n=dt("body"),e=n.append("div").attr("class","wrapper").append("div").attr("class","header");e.append("h1").text("Price and Quantity of Women's Shirts at Goodwill Over Time"),e.append("p").text("Maecenas in feugiat risus, vel eleifend nisi. Curabitur in nibh nec tellus convallis hendrerit eu egestas purus. Morbi tincidunt nisl ac est efficitur, ut iaculis erat convallis. Aliquam at imperdiet enim. Curabitur tempor lectus sit amet erat tempor dapibus. Aliquam in facilisis ligula. Cras at felis nec lorem ullamcorper mollis. Fusce sit amet mi eu libero mattis fermentum sit amet non nisi. Sed sit amet accumsan elit, id pulvinar tellus. Vivamus quis cursus massa. Quisque consectetur quam non fringilla fermentum. Sed accumsan nisi augue, mattis imperdiet tortor vehicula non. Maecenas vel convallis risus. Etiam at quam sit amet ante venenatis mattis. Etiam lorem ligula, consequat congue sagittis in, viverra eu mauris.");let r=n.append("div").attr("class","controls"),i=n.append("svg").attr("class","chart");var a=!0,o=!0;let u={brand:{Gap:!0,Loft:!0,"Ralph Lauren":!0,"Old Navy":!0,Talbots:!0,"Michael Kors":!0,Average:!0},state:{Used:!0,NWT:!0,NWOT:!0,Average:!0}},s=new Ro(i);return Lt("./data/brands_over_time.json",(function(t){return t})).then((function(t){let n=new Bo(r,u,o,(function(n){o=n,s.draw(t[o?"brand":"state"],u[o?"brand":"state"],a)}),(function(e,r){u[e][r]=!u[e][r],n.update(u,a,o),s.draw(t[o?"brand":"state"],u[o?"brand":"state"],a)}),a,(function(e){a=e,n.update(u,a,o),s.draw(t[o?"brand":"state"],u[o?"brand":"state"],a)}));s.draw(t[o?"brand":"state"],u[o?"brand":"state"],a)})),t}())}]);